"use strict";(self["webpackChunkkaf305"]=self["webpackChunkkaf305"]||[]).push([[654],{6654:(e,t,a)=>{a.r(t),a.d(t,{default:()=>te});var l=a(3673);const n=(0,l.HX)("data-v-33fd6f80");(0,l.dD)("data-v-33fd6f80");const s={class:"col-3"},o={class:"col-3"},r={class:"row justify-center"},i={class:"col-12 col-lg-9 q-pa-sm"},u={class:"row justify-center"},d={class:"col-12 col-lg-9 q-pa-sm"};(0,l.Cn)();const c=n(((e,t,a,c,m,p)=>{const h=(0,l.up)("q-tab"),y=(0,l.up)("q-tabs"),b=(0,l.up)("app-schedule-form"),g=(0,l.up)("q-tab-panel"),f=(0,l.up)("q-tab-panels"),v=(0,l.up)("q-container"),k=(0,l.up)("q-page");return(0,l.wg)(),(0,l.j4)(k,{padding:""},{default:n((()=>[(0,l.Wm)(v,null,{default:n((()=>[(0,l.Wm)(y,{modelValue:c.tab,"onUpdate:modelValue":t[1]||(t[1]=e=>c.tab=e),"active-color":"primary",align:"center",class:"text-primary",dense:"","indicator-color":"primary"},{default:n((()=>[(0,l.Wm)("div",s,[(0,l.Wm)(h,{icon:"groups",label:"Группы",name:"groups"})]),(0,l.Wm)("div",o,[(0,l.Wm)(h,{icon:"person",label:"Преподаватели",name:"teachers"})])])),_:1},8,["modelValue"]),(0,l.Wm)(f,{modelValue:c.tab,"onUpdate:modelValue":t[2]||(t[2]=e=>c.tab=e),animated:""},{default:n((()=>[(0,l.Wm)(g,{name:"groups"},{default:n((()=>[(0,l.Wm)("div",r,[(0,l.Wm)("div",i,[(0,l.Wm)(b,{"all-data-list":e.$store.getters["schedule/groupsList"],"example-title":"Пример: М3О-204С (Русская расскладка)",subscription:"Начните писать название группы, и здесь\n                          появятся все существующие группы по вашему запросу",title:"Номер группы",type:"Group"},null,8,["all-data-list"])])])])),_:1}),(0,l.Wm)(g,{name:"teachers"},{default:n((()=>[(0,l.Wm)("div",u,[(0,l.Wm)("div",d,[(0,l.Wm)(b,{"all-data-list":e.$store.getters["schedule/teachersList"],"example-title":"Пример: Хорев Тимофей Сергеевич}",subscription:"\n                  Начните писать имя преподавателя, и здесь\n                  появятся все преподаватели по вашему запросу\n                ",title:"Имя преподавателя",type:"Teacher"},null,8,["all-data-list"])])])])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1})}));var m=a(1959),p=a(2323),h=a(8880);const y=(0,l.HX)("data-v-6ede7b4d");(0,l.dD)("data-v-6ede7b4d");const b={key:0,class:" shadow-0  q-pt-lg text-primary",style:{background:"#EDF4FA"}},g={class:"row"},f={class:"flex justify-between content-center"},v={class:""},k={class:"text-h5"},W={class:"flex content-center flex-col my-auto"},q={class:""},w={key:0,align:"center"},S={key:0,class:"q-mt-md text-subtitle2"};(0,l.Cn)();const C=y(((e,t,a,n,s,o)=>{const r=(0,l.up)("q-input"),i=(0,l.up)("q-btn"),u=(0,l.up)("q-form"),d=(0,l.up)("q-card"),c=(0,l.up)("app-keyboard");return(0,l.wg)(),(0,l.j4)("div",null,[(0,l.Wm)(d,{class:"q-pa-xl shadow-0 text-primary",style:{background:"#EDF4FA"}},{default:y((()=>[(0,l.Wm)(u,{onSubmit:n.onSubmit,onReset:n.onReset,class:"q-gutter-md"},{default:y((()=>[(0,l.Wm)(r,{filled:"",label:a.title,hint:e.exampleTitle,onFocusin:t[1]||(t[1]=e=>n.isKeyboardVisible=!0),modelValue:n.name,"onUpdate:modelValue":t[2]||(t[2]=e=>n.name=e),"lazy-rules":"",rules:[e=>e&&e.length>0||"Это поле не может быть пустым"]},null,8,["label","hint","modelValue","rules"]),(0,l.Wm)("div",null,[(0,l.Wm)(i,{onClick:n.onSubmit,label:"Показать расписание",type:"submit",color:"primary"},null,8,["onClick"]),(0,l.Wm)(i,{label:"Сбросить",type:"reset",color:"primary",flat:"",class:"q-ml-sm"})])])),_:1},8,["onSubmit","onReset"]),a.allDataList.length?((0,l.wg)(),(0,l.j4)("div",b,[(0,l.Wm)("div",g,[((0,l.wg)(!0),(0,l.j4)(l.HY,null,(0,l.Ko)(a.allDataList,((t,n)=>((0,l.wg)(),(0,l.j4)("div",{class:"col-12 col-md-6 ",key:n},[(0,l.Wm)(d,{class:"q-pa-lg q-ma-sm shadow-0 text-primary schedule-item",rounded:"",onClick:l=>e.$router.push({name:"Weeks schedule",params:{id:t.id,type:"Group"===a.type?"Group":"Teacher"}})&&e.$store.dispatch(`schedule/load${a.type}Schedule`,t.id)},{default:y((()=>[(0,l.Wm)("div",f,[(0,l.Wm)("div",v,[(0,l.Wm)("h3",k,(0,p.zw)(t.name),1),(0,l.Wm)("p",null,(0,p.zw)(t.fac),1)]),(0,l.Wm)("div",W,[(0,l.Wm)("p",q,(0,p.zw)(t.level),1),t.course?((0,l.wg)(),(0,l.j4)("p",w,(0,p.zw)(t.course)+" - курс ",1)):(0,l.kq)("",!0)])])])),_:2},1032,["onClick"])])))),128))])])):(0,l.kq)("",!0),(0,l.Wm)(h.uT,{name:"fade"},{default:y((()=>[null===n.name?((0,l.wg)(),(0,l.j4)("p",S,(0,p.zw)(a.subscription),1)):(0,l.kq)("",!0)])),_:1})])),_:1}),n.isKeyboardVisible?((0,l.wg)(),(0,l.j4)(c,{key:0,label:a.title,name:n.name,"onUpdate:name":t[3]||(t[3]=e=>n.name=e),onSubmit:n.onSubmit},null,8,["label","name","onSubmit"])):(0,l.kq)("",!0)])}));var K=a(7874);a(52);function j(e,t,a,n,s,o){const r=(0,l.up)("SimpleKeyboard");return(0,l.wg)(),(0,l.j4)(r,{onOnChange:o.onChange,onOnKeyPress:o.onKeyPress,input:e.value},null,8,["onOnChange","onOnKeyPress","input"])}const T=(0,l.HX)("data-v-27f6ece3");(0,l.dD)("data-v-27f6ece3");const _={class:"col-12 col-lg-8"};(0,l.Cn)();const x=T(((e,t,a,n,s,o)=>{const r=(0,l.up)("q-card");return(0,l.wg)(),(0,l.j4)(r,{class:"q-pa-xl q-mt-md shadow-0 row justify-center",style:{background:"#EDF4FA",width:"100%"}},{default:T((()=>[(0,l.Wm)("div",_,[(0,l.Wm)("div",{class:a.keyboardClass},null,2)])])),_:1})}));var P=a(515),V=a.n(P),Z=a(5418),D=a.n(Z),F=a(1545);const H={name:"SimpleKeyboard",props:{keyboardClass:{default:"simple-keyboard",type:String},input:{type:String}},data:()=>({keyboard:null}),mounted(){this.keyboard=new(D())(this.keyboardClass,V()({onChange:this.onChange,onKeyPress:this.onKeyPress},F.Z))},methods:{onChange(e){this.$emit("onChange",e)},onKeyPress(e){this.$emit("onKeyPress",e),"{shift}"!==e&&"{lock}"!==e||this.handleShift()},handleShift(){let e=this.keyboard.options.layoutName,t="default"===e?"shift":"default";this.keyboard.setOptions({layoutName:t})}},watch:{input(e){this.keyboard.setInput(e)}}};var Q=a(151),$=a(7518),G=a.n($);H.render=x,H.__scopeId="data-v-27f6ece3";const R=H;G()(H,"components",{QCard:Q.Z});const z={props:{name:String},emits:{"update:name":null,submit:null},components:{SimpleKeyboard:R},data:()=>({}),methods:{onChange(e){this.$emit("update:name",e)},onKeyPress(e){"{enter}"===e&&this.$emit("submit")},onInputChange(e){this.$emit("update:name",e.target.value)}}};z.render=j;const A=z,I={components:{AppKeyboard:A},name:"AppScheduleForm",props:{allDataList:{type:Object,require:!0},title:{type:String,require:!0},examlpeTitle:{type:String,require:!0},subscription:{type:String,require:!0},type:{type:String,require:!0}},emits:["onSubmit","onReset"],setup(e){const t=(0,m.iH)(!1),a=(0,m.iH)(null),l=(0,K.oR)(),n=(0,m.qj)({name:"teacherCondition",value:!1}),s=(0,m.qj)({name:"groupCondition",value:!1});async function o(){"Group"===e.type?await l.dispatch("schedule/findGroupByName",a.value):"Teacher"===e.type&&await l.dispatch("schedule/findTeacher",a.value)}async function r(){a.value=null,"Group"===e.type?l.commit("schedule/clearGroupsData"):"Teacher"===e.type&&l.commit("schedule/clearTeacherData")}const i=e=>{console.log("button",e)},u=t=>{"Teacher"===e.type?(n.value=!0,s.value=!1):"Group"===t?(s.value=!0,n.value=!1):console.log(t,"name")},d=e=>{a.value=e};return{name:a,onReset:r,onSubmit:o,onKeyPress:i,toggleKeyboard:u,onTextKeyboard:d,isKeyboardVisible:t}}};var O=a(5269),L=a(4842),N=a(4607);I.render=C,I.__scopeId="data-v-6ede7b4d";const U=I;G()(I,"components",{QCard:Q.Z,QForm:O.Z,QInput:L.Z,QBtn:N.Z});var E=a(8825);const X={setup(){const e=(0,K.oR)(),t=((0,E.Z)(),(0,m.iH)(null)),a=(0,m.iH)(null);async function n(){await e.dispatch("schedule/findTeacher",a.value)}return(0,l.bv)((()=>{e.commit("schedule/clearWeekSchedule")})),{groupName:t,teacherName:a,onTeacherSubmit:n,tab:(0,m.iH)("groups"),splitterModel:(0,m.iH)(20)}},components:{AppScheduleForm:U}};var B=a(4379),M=a(7547),Y=a(8408),J=a(5906),ee=a(6602);X.render=c,X.__scopeId="data-v-33fd6f80";const te=X;G()(X,"components",{QPage:B.Z,QTabs:M.Z,QTab:Y.Z,QTabPanels:J.Z,QTabPanel:ee.Z})}}]);